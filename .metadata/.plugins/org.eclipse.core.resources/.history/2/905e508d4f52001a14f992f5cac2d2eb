package ebudget;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
import java.util.logging.Level;
import java.util.logging.Logger;

import io.CSVReader;

public class Ebudget {
	static Logger logger = Logger.getLogger("Ebudget");

	public static void main(String[] args) {
		System.out.println("Ebudget");

		System.out.println(" Lecture du fichier");
		String fileName = "C:\\Donnees\\Perso\\projet\\budget\\eBudget\\ebudget\\src\\main\\resources\\releveJanvier.csv";
		/*
		 * // Configuration is a class that returns customizable properties: it can be
		 * mocked to be injected during tests. Configuration config; //public
		 * Foo(Configuration myConfig) { // this.config = myConfig; // } String
		 * listingFolder = config.getProperty("eBudget.listingFolder"); // and use this
		 * parameter instead of the hard coded path File userList = new
		 * File(listingFolder, "users.txt"); // Compliant
		 */
		List<Double> amountList = new ArrayList<>();
		try {
			CSVReader csvReader = new CSVReader();
			amountList = csvReader.readFile(fileName);
		} catch (IOException e) {

			logger.log(Level.INFO, e.getMessage());

		}
		Scanner sc = new Scanner(System.in);
		System.out.println("Entrez le solde initial:");
		String solde = sc.nextLine();
		double soldeFinal = amountList.stream().mapToDouble(Double::doubleValue).sum();
		soldeFinal = soldeFinal + Double.parseDouble(solde);
		logger.log(Level.INFO, Double.toString(soldeFinal));
	}

}
/*
interface Model {
    public void setName(String name);
}
interface View {
    public String prompt(String prompt);
}

class Controller {

    private final Model model;
    private final View view;

    public Controller(Model model, View view) {
        this.model = model;
        this.view = view;
    }

    public void run() {
        String name;

        while ((name = view.prompt("\nmvc demo> ")) != null) {
            model.setName(name);
        }
    }
}*/